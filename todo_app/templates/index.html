{% extends "layout.html" %}
{% block title %}To-Do App{% endblock %}

{% block content %}
  <div class="jumbotron">
    <h1 class="display-4">To-Do App</h1>
    <p class="lead">Just another to-do app.</p>
  </div>

  <div class="row">
    <div class="col-md-12">
      <h2>To-Do Items</h2>
      <ul class="list-group mb-4">
        <table>
          {%for item in incomplete_items %}
          <tr>
            <td>
              {{item.name}}
            </td>
            <td>
              {{item.status.value}}
            </td>
            <td>
              <form method="post" action="{{ url_for('delete_task') }}">
                <button name="item_id" value="{{item.id}}" type="submit" class="btn btn-danger">Delete</button>
              </form>
            </td>
            <td>
              <form method="post" action="{{ url_for('complete_task') }}">
                <button name="item_id" value="{{item.id}}" type="submit" class="btn btn-success">Complete Task</button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </table>
        <h2>Complete Items</h2>
      <ul class="list-group mb-4">
        <table>
          {%for item in completed_items %}
          <tr>
            <td>
              {{item.name}}
            </td>
            <td>
              {{item.status.value}}
            </td>
            <td>
              <form method="post" action="{{ url_for('delete_task') }}">
                <button name="item_id" value="{{item.id}}" type="submit" class="btn btn-danger">Delete</button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </table>
        <form method="post" action="{{ url_for('create_task') }}">
          <h3><label for="task_title">Add a new task</label></h3>
          <input id="task_title" name="task_title" required type="text" class="form-control">
          <button type="submit" class="btn btn-primary"> Add</button>
        </form>
      </ul>
    </div>
  </div>
{% endblock %}